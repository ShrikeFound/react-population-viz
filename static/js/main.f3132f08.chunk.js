(this["webpackJsonpreact-population-viz"]=this["webpackJsonpreact-population-viz"]||[]).push([[0],{25:function(t){t.exports=JSON.parse("{}")},26:function(t,e,a){},27:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a(14),i=a.n(c),o=a(2),r=a(31),s=a(33),l=a(35),u=a(34),d=a(15),j=a(0),p=function(t){var e=t.yScale,a=t.ticks,n=t.width,c=t.padding,i=t.format,o=void 0===i?null:i;return a.map((function(t){return Object(j.jsxs)("g",{className:"tick",transform:"translate(".concat(c,",").concat(e(t),")"),children:[Object(j.jsx)("line",{x2:n-c}),Object(j.jsx)("text",{dx:-15,dy:7,style:{textAnchor:"end"},children:o?o(t):t})]},t)}))},x=function(t){var e=t.data,a=(t.padding,t.xScale),n=t.yScale,c=(t.tooltipRef,t.barWidth),i=t.barPadding,o=t.height,r=document.getElementById("tooltip");return Object(j.jsx)("g",{className:"bars",children:e.map((function(t,e){return Object(j.jsx)("rect",{x:a(e*(c+i)),y:n(t.Population),width:c,height:o-n(t.Population),"data-value":t.Population,id:t.Year,onMouseMove:function(t,e){return function(t,e){r.classList.add("show"),r.style.left="".concat(t.pageX,"px"),r.style.top="".concat(t.pageY,"px"),r.innerHTML='\n    <p class="country-title">'.concat(t.target.id,"<p/><p>Population: ").concat(Number(t.target.getAttribute("data-value")).toLocaleString(),"</p>")}(t)},onMouseLeave:function(t){r.classList.remove("show")}},t.Year)}))})},b=function(t){var e=t.x,a=void 0===e?0:e,n=t.y,c=void 0===n?0:n,i=t.labelText,o=void 0===i?"":i,r=t.rotate,s=void 0!==r&&r,l=t.title,u=void 0!==l&&l,d=t.dy;return Object(j.jsx)("text",{className:"label ".concat(u?"title":""),x:s?0:a,y:s?0:c,dy:d,textAnchor:"middle",transform:s?"translate(".concat(a,",").concat(c,") rotate(").concat(s?-90:0,")"):"",children:o})},h=function(t){var e=t.country,a=t.data,n=t.tooltipRef,c=1e3,i=70,s=630,l=930,h=l/a.length-0,f=Object(r.a)(a,(function(t){return+t.Population})),y=Object(o.a)(f,2),m=y[0],g=y[1],O=Object(d.a)().domain([0,c]).nice().range([i,c]),v=Object(d.a)().domain([m,g]).nice().range([s,i]),N=(O.ticks(),Object(u.a)(".2s"),v.ticks(5));return a.length<1?Object(j.jsxs)("svg",{className:"population-bar-chart",viewBox:"0 0 ".concat(c," ").concat(700),preserveAspectRatio:"xMidYMid meet",children:[Object(j.jsx)("text",{className:"loading-text label","text-anchor":"middle",transform:"translate( ".concat(465," ").concat(275,")"),children:"Click on a country's dot"}),Object(j.jsx)("text",{className:"loading-text label","text-anchor":"middle",transform:"translate( ".concat(465," ").concat(315,")"),children:"to view their population growth "}),Object(j.jsx)("text",{className:"loading-text label","text-anchor":"middle",transform:"translate( ".concat(465," ").concat(355,")"),children:"throughout the years"})]}):Object(j.jsxs)("svg",{className:"population-bar-chart",viewBox:"0 0 ".concat(c," ").concat(700),preserveAspectRatio:"xMidYMid meet",children:[Object(j.jsx)("g",{className:"ticks",children:Object(j.jsx)(p,{ticks:N,format:function(t){return"".concat(t/1e6," M")},yScale:v,padding:i,width:860})}),Object(j.jsx)(x,{data:a,height:s,xScale:O,yScale:v,barWidth:h,barPadding:0,padding:i,tooltipRef:n}),Object(j.jsx)(b,{x:500,title:!0,y:55,labelText:"".concat(e," | Population Growth")})]})},f=a(32),y=function(t){var e=t.ticks,a=t.xScale,n=t.padding,c=t.height;return e.map((function(t){return Object(j.jsxs)("g",{className:"tick",transform:"translate (".concat(a(t)," ").concat(c,")"),children:[Object(j.jsx)("line",{y2:-(c-n)}),Object(j.jsx)("text",{dx:0,dy:"1.82em",style:{textAnchor:"middle"},children:t})]},t)}))},m=function(t){var e=t.data,a=t.xScale,n=t.yScale,c=t.rScale,i=(t.tooltipRef,t.handleCountryChange),o=t.country,r=document.getElementById("tooltip");return Object(j.jsx)("g",{className:"country-dots",children:e.map((function(t){return Object(j.jsx)("circle",{className:o===t.Entity?"dot selected-country":"dot ",id:t.Entity,"data-fertility-rate":t["Fertility Rate"],"data-life-expectancy":t["Life Expectancy"],"data-population":t.Population,onMouseMove:function(t,e){return function(t,e){r.classList.add("show"),r.style.left="".concat(t.pageX,"px"),r.style.top="".concat(t.pageY,"px"),r.innerHTML='\n    <p class="country-title">'.concat(t.target.id,"<p/><p>Population: ").concat(Number(t.target.getAttribute("data-population")).toLocaleString(),"</p><p>Life Expectancy: ").concat(Number(t.target.getAttribute("data-life-expectancy")).toLocaleString(),"</p><p>Fertility Rate: ").concat(Number(t.target.getAttribute("data-fertility-rate")).toLocaleString(),"</p>")}(t)},onMouseLeave:function(t){r.classList.remove("show")},cx:a(t["Fertility Rate"]),cy:n(t["Life Expectancy"]),pop:t.Population,r:c(t.Population),onClick:function(t){return i(t)}},t.Entity)}))})},g=function(t){var e=t.data,a=t.minFertilityRate,n=t.maxFertilityRate,c=t.minLifeExpectancy,i=t.maxLifeExpectancy,o=t.maxPopulation,r=t.tooltipRef,s=t.handleCountryChange,l=t.country;if(!e)return Object(j.jsx)("p",{children:"Loading..."});var u=1200,x=1600,h=130,g=1070,O=Object(d.a)().domain([a,n]).nice().range([h,1470]),v=O.ticks(),N=Object(d.a)().domain([c,i]).nice().range([g,h]),S=N.ticks(),L=Object(f.a)().domain([0,o]).range([5,18]);return Object(j.jsxs)("svg",{className:"population-scatter-plot",viewBox:"0 0 ".concat(x," ").concat(u),children:[Object(j.jsx)("g",{className:"ticks",children:Object(j.jsx)(y,{ticks:v,xScale:O,padding:h,height:g})}),Object(j.jsx)(b,{x:800,y:1113.3333333333333,dy:"1.2em",labelText:"Fertility Rate"}),Object(j.jsx)("g",{className:"ticks",children:Object(j.jsx)(p,{ticks:S,yScale:N,padding:h,width:1470})}),Object(j.jsx)(b,{x:h/3,y:600,dy:".82em",rotate:!0,labelText:"Life Expectancy at Birth"}),Object(j.jsx)(m,{country:l,data:e,xScale:O,yScale:N,rScale:L,tooltipRef:r,handleCountryChange:function(t){return s(t)}}),Object(j.jsx)(b,{x:800,title:!0,y:65,labelText:"Country Population, Life Expectancy, and Fertility Rate throughout the Years"})]})},O=function(){return Object(j.jsx)("div",{className:"tooltip",id:"tooltip"})};a(25);var v=function(){var t=Object(n.useState)([]),e=Object(o.a)(t,2),a=e[0],c=e[1],i=Object(n.useState)([]),u=Object(o.a)(i,2),d=u[0],p=u[1],x=Object(n.useState)([]),b=Object(o.a)(x,2),f=b[0],y=b[1],m=Object(n.useState)(1961),v=Object(o.a)(m,2),N=v[0],S=v[1],L=Object(n.useState)("USA"),k=Object(o.a)(L,2),w=k[0],E=k[1],R=Object(r.a)(a,(function(t){return t.Year})),P=Object(o.a)(R,2),C=P[0],M=P[1],Y=Object(n.useRef)(),A=Object(r.a)(a,(function(t){return+t["Fertility Rate"]})),F=Object(o.a)(A,2),T=F[0],B=F[1],H=Object(r.a)(a,(function(t){return+t["Life Expectancy"]})),I=Object(o.a)(H,2),J=I[0],U=I[1],W=Object(s.a)(a,(function(t){return t.Population}));return Object(n.useEffect)((function(){Object(l.a)("https://gist.githubusercontent.com/ShrikeFound/39a8fd3db574ec9f5d10074840c098bd/raw").then((function(t){return c(t.sort((function(t,e){return+e.Population-+t.Population})))}))}),[]),Object(n.useEffect)((function(){if(a){var t=a.filter((function(t){return Number(t.Year)==N}));p(t)}}),[a,N]),Object(n.useEffect)((function(){if(a){var t=a.filter((function(t){return t.Entity==w}));y(t.sort((function(t,e){return+t.Year-+e.Year})))}}),[a,w]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{className:"title",children:"Country Metric Dashboard"}),Object(j.jsxs)("div",{className:"dashboard",children:[Object(j.jsx)("div",{className:"scatterplot-container",children:Object(j.jsx)(g,{data:d,country:w,tooltipRef:Y,minFertilityRate:T,maxFertilityRate:B,handleCountryChange:function(t){return function(t){var e=t.target.id;E(e)}(t)},maxLifeExpectancy:U,minLifeExpectancy:J,maxPopulation:W})}),Object(j.jsxs)("div",{className:"year-input",children:[Object(j.jsx)("p",{children:"This dashboard is inspired Hans Rosling's first TED talk and explores many of the same areas using modern data: Country population growth, life expectancy, and fertility rates (Short life Big family vs. Long life Small family). "}),Object(j.jsx)("p",{children:" Take a look at the UN's most recent data on history country growth and explore the relationship between these metrics yourself. Use the slider below to travel through time and click on a country's dot to view their data on the chart below."}),Object(j.jsxs)("h2",{style:{fontWeight:"400"},children:["Year: ",N]}),Object(j.jsx)("input",{type:"range",min:C,max:M,onChange:function(t){return function(t){var e=t.target.value;S(e)}(t)}})]}),Object(j.jsx)("div",{className:"barchart-container",children:Object(j.jsx)(h,{country:w,data:f})})]}),Object(j.jsx)(O,{ref:Y})]})};a(26);i.a.render(Object(j.jsx)(v,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.f3132f08.chunk.js.map